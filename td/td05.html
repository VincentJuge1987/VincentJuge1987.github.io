<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Boucles et fonctions en Javascript</title>
<link rel="stylesheet" type="text/css" href="css/stylesheet-td.css" media="screen">
<link rel="stylesheet" type="text/css" href="css/printstylesheet.css" media="print">
<link rel="stylesheet" type="text/css" href="css/sh_ide-eclipse.css">
</head>
<body>
  <div class="conteneur">
    <div class="contenu">
      <table>
        <tbody>
          <tr style="vertical-align: center;">
            <td><img class="print" src="css/UGE.png" alt="[LOGO]" height="30"></td>
            <td><h1>Boucles et fonctions en Javascript</h1></td>
          </tr>
        </tbody>
      </table>
      <hr>

      <div>Comme pour les TPs précédents, on vous demande de créer un
        répertoire <span class="tt">tp5</span> qui contiendra les exercices de cette feuille de TP et de
        faire un compte rendu de TP en HTML.</div>
      <br>

      <h3>Exercice 1&nbsp;: Affichage de formes dans la console</h3>
      <div>On cherche à afficher des formes simples <span class="caution">dans la console</span>.</div>
      <ol start="0">
        <li>Recopiez la page Web <a href="src/td05/exo1.html">exo1.html</a> dans votre répertoire <span class="tt">tp5</span>.
        </li>
        <li>On souhaite afficher des croix qui formeront un triangle rectangle isocèle.
          La fonction <span class="tt">triangleRectangle(n)</span> doit permettre d'afficher un tel triangle de côté <span class="tt">n</span>.
          <br>
          Par exemple, <span class="tt">triangleRectangle(4)</span> permet d'afficher les lignes
          <br>
          <pre class="full-width tt">.<br>..<br>...<br>....</pre>
          Remplir le corps de la fonction <span class="tt">triangleRectangle</span> de manière adéquate puis la tester avec plusieurs valeurs de <span class="tt">n<span>.
        </li>
        <li>On souhaite maintenant disposer d'un triangle isocèle dont l'axe de symétrie est vertical.
          La fonction <span class="tt">triangleIsocèle(n)</span> doit permettre d'afficher un tel triangle de hauteur <span class="tt">n</span> et de base <span class="tt">2n-1</span>.
          <br>
          Par exemple, <span class="tt">triangleIsocèle(4)</span> permet d'afficher les lignes
          <br>
          <pre class="full-width tt">   .<br>  ...<br> .....<br>.......</pre>
          Remplir le corps de la fonction <span class="tt">triangleIsocèle</span> de manière adéquate puis la tester avec plusieurs valeurs de <span class="tt">n<span>.
        </li>
        <li>On souhaite ensuite disposer d'un rectangle.
          La fonction <span class="tt">rectangle(a,b)</span> doit permettre d'afficher un tel rectangle de hauteur <span class="tt">a</span> et de largeur <span class="tt">b</span>, sans compter les cases occupées par les bords du rectangle.
          <br>
          Par exemple, <span class="tt">rectangle(4,6)</span> permet d'afficher les lignes
          <br>
          <pre class="full-width tt">+------+<br>|      |<br>|      |<br>|      |<br>|      |<br>+------+</pre>
          Remplir le corps de la fonction <span class="tt">rectangle</span> de manière adéquate puis la tester avec plusieurs valeurs de <span class="tt">a<span> et <span class="tt">b<span>.
        </li>
        <li>On souhaite enfin disposer d'un carré.
          La fonction <span class="tt">carré(n)</span> doit permettre d'afficher un tel carré de côté <span class="tt">n</span>, sans compter les cases occupées par les bords du carré.
          <br>
          Par exemple, <span class="tt">carré(4)</span> permet d'afficher les lignes
          <br>
          <pre class="full-width tt">+----+<br>|    |<br>|    |<br>|    |<br>|    |<br>+----+</pre>
          Remplir le corps de la fonction <span class="tt">carré</span> de manière adéquate puis la tester avec plusieurs valeurs de <span class="tt">n<span>.
        </li>
        <li>Le corps de la fonction <span class="tt">carré</span> doit prendre au plus une ligne, facile à lire et à comprendre.
        Si ce n'est pas le cas, commentez votre code et réécrivez la fonction <span class="tt">carré</span> de sorte à satisfaire cette nouvelle contrainte.
        </li>
        <li>
          Dernière mission&nbsp;: on souhaite écrire une variante de la fonction <span class="tt">rectangle</span> en utilisant des fonctions <i>ad hoc</i> plutôt que <span class="tt">console.log</span>&nbsp;; cette variante s'appellera <span class="tt">rectangle2</span>.
          <br>
          Les fonctions que l'on utilisera, et qui ont été créées uniquement pour les besoins de ce TP, sont&nbsp;:
          <ul>
            <li><span class="tt">print(s)</span>, qui permet d'afficher <span class="caution">un seul caractère</span> (stocké dans une chaîne de caractères <span class="tt">s</span>) dans la console <span class="caution">et ne revient pas à la ligne</span>&nbsp;;</li>
            <li><span class="tt">newLine()</span>, qui permet de revenir à la ligne</span>&nbsp;;</li>
          </ul>
          On n'oubliera pas de revenir à la ligne après avoir affiché la ligne du bas du rectangle.
          <br>
          <span class="caution">Attention&nbsp;!</span> Donner comme argument à la fonction <span class="tt">print</span> une chaîne de caractères contenant autre chose qu'un unique caractère déclenchera une erreur.
          <br>
          <span class="caution">Attention&nbsp;!</span> Tenter d'appeler directement la fonction <span class="tt">console.log()</span> déclenchera une erreur.
      </ol>
    
      <h3>Exercice 2&nbsp;: Le lièvre et la tortue</h3>
      <div>
        Le lièvre et la tortue font la course&nbsp;: la tortue avance souvent, mais peu à chaque fois, tandis que le lièvre avance rarement, mais beaucoup à chaque fois.
        On souhaite modéliser leur course en utilisant un <a href="https://fr.wikipedia.org/wiki/D%C3%A9_%C3%A0_vingt_faces">dé à 20 faces</a>&nbsp;:
        <ul>
          <li>On lance le dé, et on note <span class="tt">n</span> son résultat&nbsp;;</li>
          <li>Si <span class="tt">n</span> vaut 14 ou moins, c'est la tortue qui avance de <span class="tt">n</span>&nbsp;;</li>
          <li>Si, au contraire, <span class="tt">n</span> vaut 15 ou plus, c'est le lièvre qui avance de <span class="tt">n</span>.
        </ul>
        Le premier qui franchit la ligne d'arrivée a gagné le droit de voir son histoire immortalisée dans une fable de La Fontaine.
      </div>
      <ol start="0">
        <li>Recopiez la page Web <a href="src/td05/exo2.html">exo2.html</a> dans votre répertoire <span class="tt">tp5</span>.
        <li>
          Écrire une fonction <span class="tt">uniforme(borne)</span> qui prend en argument un entier <span class="tt">borne</span> strictement positif et renvoie un entier choisi <a href="https://fr.wikipedia.org/wiki/Loi_uniforme_discr%C3%A8te">uniformément au hasard</a> parmi 1, 2, &hellip;, <span class="tt">borne</span>.
        </li>
        <li id="step3">
          Écrire une fonction <span class="tt">étape()</span> qui simule un lancer de dé et son effet sur les positions du lièvre et de la tortue&nbsp;:
          <ul>
            <li>elle lance le dé pour obtenir un entier <span class="tt">n</span> entre 1 et 20&nbsp;;</li>
            <li>elle renvoie un tableau <span class="tt">résultat</span> de taille 2, tel que <span class="tt">résultat[0]</span> soit l'avancée du lièvre et <span class="tt">résultat[1]</span> soit l'avancée de la tortue <span class="caution">juste après le lancer de dé</span>&nbsp;:
            ainsi, <span class="tt">résultat</span> vaut <span class="tt">[0,n]</span> si <span class="tt">n</span> vaut 14 ou moins, et <span class="tt">[n,0]</span> si <span class="tt">n</span> vaut 15 ou plus</li>
          </ul>
        </li>
        <li>
          Écrire une fonction <span class="tt">course(l)</span> qui simule une course de longueur <span class="tt">l</span> entre le lièvre et la tortue, et renvoie <span class="tt">"lièvre"</span> si le lièvre a gagné la course, ou <span class="tt">"tortue"</span> si la tortue a gagné la course.
        </li>
        <li>
          Organiser 10000 courses de longueur 5000. Parmi le lièvre et la tortue, y en a-t-il un qui semble gagner beaucoup plus souvent que l'autre&nbsp;?
          <br>
          <span class="caution">Pour les amateurs de mathématiques&nbsp;:</span> comment aurait-on pu, ne serait-ce qu'intuitivement, prévoir un tel résultat&nbsp;?
        </li>
      </ol>
    
      <h3 id="exo-3">Exercice 3&nbsp;: Seuls ceux qui passent les tests compteront&nbsp;!</h3>
      <div>
        Cet exercice est l'occasion d'écrire des fonctions qui prennent d'autres fonctions en argument, et/ou qui renvoient une fonction.
        Comme d'habitude, on n'oubliera pas de tester chacune des fonctions que l'on aura écrites.
      </div>
      <ol start="0">
        <li>Recopiez la page Web <a href="src/td05/exo3.html">exo3.html</a> dans votre répertoire <span class="tt">tp5</span>.
        <li>
          Écrire une fonction <span class="tt">estPair</span> qui, étant donné un entier <span class="tt">k</span>, renvoie <span class="tt">true</span> si <span class="tt">k</span> est pair, et <span class="tt">false</span> sinon.
        </li>
        <li>
          Écrire une fonction <span class="tt">estCarré</span> qui, étant donné un entier <span class="tt">k</span>, renvoie <span class="tt">true</span> si <span class="tt">k</span> est un <a href="https://fr.wikipedia.org/wiki/Carr%C3%A9_parfait">carré parfait</a>, et <span class="tt">false</span> sinon.
        </li>
        <li>
          Écrire une fonction <span class="tt">comptePairs</span> qui, étant donné un entier <span class="tt">n</span> strictement positif, énumère les entiers de 1 à <span class="tt">n</span>, compte combien d'entre eux sont pairs, et renvoie le résultat de son décompte.
        </li>
        <li>
          Écrire une fonction <span class="tt">compteCarrés</span> qui, étant donné un entier <span class="tt">n</span> strictement positif, énumère les entiers de 1 à <span class="tt">n</span>, compte combien d'entre eux sont des carrés parfaits, et renvoie le résultat de son décompte.
        </li>
      </ol>
      <div>
        Ci-dessus, on a écrit deux fois la même chose, à ceci près qu'on a décompté les entiers pairs dans notre première fonction, et les carrés parfaits dans notre deuxième fonction.
        Comme <a href="https://fr.wikipedia.org/wiki/Duplication_de_code">la duplication de code</a> est une erreur critique en programmation, il faut revoir les choses.
        <br>
        On va donc réécrire de manière plus professionnelle les fonctions <span class="tt">comptePairs</span> et <span class="tt">comptePairs</span>, en créant une fonction <span class="tt">compte</span> qui prend un argument <span class="tt">test</span> et dont le comportement sera le suivant&nbsp;:
      </div>
      <ul>
        <li> L'argument <span class="tt">test</span> sera une fonction qui, à chaque entier <span class="tt">k</span>, associe un booléen (c'est-à-dire <span class="tt">true</span> ou <span class="tt">false</span>)&nbsp;; les fonctions <span class="tt">estPair</span> et <span class="tt">estCarré</span> sont deux exemples de telles fonctions.</li>
        <li> Le résultat de <span class="tt">compte(test)</span> devra être une fonction qui, étant donné un entier <span class="tt">n</span> strictement positif, énumère les entiers de 1 à <span class="tt">n</span>, compte combien d'entre eux ont été associés au booléen <span class="tt">true</span> par la fonction <span class="tt">test</span>, et renvoie le résultat de son décompte&nbsp;;
        par exemple, la fonction <span class="tt">comptePairs</span> peut désormais se réécrire <span class="tt">const comptePairs2 = compte(estPair)</span>.</li>
      </ul>
      <ol start="5">
        <li> Comment écrire la fonction <span class="tt">compteCarrés2</span>, qui fait la même chose que <span class="tt">compteCarrés</span>, à partir des fonctions <span class="tt">test</span> et <span class="tt">estCarré</span>&nbsp;? 
        Cette réécriture est censée prendre <span class="caution">une seule ligne de code</span>.</li>
        <li> Écrire la fonction <span class="tt">compte</span>.
        <br> Bien vérifier que les fonctions <span class="tt">comptePairs2</span> et <span class="tt">compteCarrés2</span> réécrites à partir de la fonction <span class="tt">compte</span> se comportent comme les fonctions <span class="tt">comptePairs</span> et <span class="tt">compteCarrés</span>.</li>
        <li> Écrire, <span class="caution">en une seule ligne de code</span>, une fonction <span class="tt">compte1mod3</span> qui, étant donné un entier <span class="tt">n</span> strictement positif, énumère les entiers de 1 à <span class="tt">n</span>, compte combien d'entre eux sont congrus à 1 modulo 3, et renvoie le résultat de son décompte. </li>
      </ol>
      <hr>
      <div class="copyright noprint">© Université Gustave Eiffel</div>
    </div>
  </div>
</body>
</html>
